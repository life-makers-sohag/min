# توثيق منصة Min Jadeed - النسخة المحدثة

## نظرة عامة

منصة Min Jadeed (من جديد) هي منصة اجتماعية لمشاركة الاقتباسات والأفكار الملهمة. تتيح المنصة للمستخدمين إنشاء حسابات شخصية، ومشاركة اقتباساتهم الخاصة أو اقتباسات من مصادر أخرى، والتفاعل مع اقتباسات الآخرين من خلال الإعجاب والحفظ.

تم تطوير المنصة باستخدام HTML و CSS و JavaScript للواجهة الأمامية، مع استخدام Google Sheets كقاعدة بيانات من خلال Google Apps Script.

## التحسينات الرئيسية في النسخة الجديدة

1. **تصميم واجهة مستخدم احترافية**:
   - تصميم متجاوب يعمل على جميع أحجام الشاشات
   - نظام ألوان متناسق وجذاب
   - تحسين تجربة المستخدم وسهولة الاستخدام

2. **تحسين أمان المنصة**:
   - منع تكرار البريد الإلكتروني عند إنشاء الحسابات
   - التحقق من صحة البيانات المدخلة
   - معالجة أفضل للأخطاء وعرض رسائل واضحة للمستخدم

3. **تحسين الأداء والاستقرار**:
   - تحسين سرعة تحميل الصفحات
   - تحسين التفاعل مع Google Sheets
   - معالجة أفضل للحالات الاستثنائية

4. **ميزات جديدة**:
   - تحسين نظام التبويبات في صفحة الملف الشخصي
   - إضافة معاينة مباشرة عند كتابة اقتباس جديد
   - تحسين نظام الإعجاب والحفظ
   - إضافة إمكانية مشاركة الاقتباسات

## هيكل المشروع

### الملفات الرئيسية

```
min_jadeed/
├── css/
│   ├── variables.css     # متغيرات CSS (الألوان، الخطوط، إلخ)
│   ├── layout.css        # تخطيط الصفحات
│   ├── components.css    # مكونات واجهة المستخدم
│   ├── animations.css    # التأثيرات الحركية
│   ├── responsive.css    # التصميم المتجاوب
│   └── main.css          # ملف CSS الرئيسي
├── js/
│   ├── api.js            # واجهة برمجة التطبيقات
│   ├── auth.js           # المصادقة وإدارة المستخدمين
│   ├── ui.js             # واجهة المستخدم العامة
│   ├── quotes.js         # إدارة الاقتباسات
│   └── profile.js        # إدارة الملف الشخصي
├── img/
│   └── logo.svg          # شعار المنصة
├── pages/
│   ├── login.html        # صفحة تسجيل الدخول
│   ├── signup.html       # صفحة إنشاء حساب
│   ├── profile.html      # صفحة الملف الشخصي
│   ├── new-post.html     # صفحة إضافة اقتباس جديد
│   └── quote-detail.html # صفحة تفاصيل الاقتباس
├── index.html            # الصفحة الرئيسية
├── google_apps_script.js # كود Google Apps Script
└── testing_guide.md      # دليل اختبار المنصة
```

## الواجهة الأمامية

### الصفحات الرئيسية

1. **الصفحة الرئيسية (index.html)**:
   - عرض أحدث الاقتباسات
   - التنقل بين صفحات الاقتباسات
   - التفاعل مع الاقتباسات (الإعجاب، الحفظ)

2. **صفحة تسجيل الدخول (login.html)**:
   - نموذج تسجيل الدخول
   - رابط للانتقال إلى صفحة إنشاء حساب

3. **صفحة إنشاء حساب (signup.html)**:
   - نموذج إنشاء حساب جديد
   - التحقق من صحة البيانات المدخلة
   - منع تكرار البريد الإلكتروني

4. **صفحة الملف الشخصي (profile.html)**:
   - عرض بيانات المستخدم
   - تعديل بيانات المستخدم
   - عرض اقتباسات المستخدم
   - عرض الاقتباسات التي أعجب بها المستخدم
   - عرض الاقتباسات المحفوظة للمستخدم

5. **صفحة إضافة اقتباس جديد (new-post.html)**:
   - نموذج إضافة اقتباس جديد
   - معاينة مباشرة للاقتباس
   - إمكانية إضافة مؤلف ومصدر ووسوم للاقتباس

6. **صفحة تفاصيل الاقتباس (quote-detail.html)**:
   - عرض تفاصيل الاقتباس
   - التفاعل مع الاقتباس (الإعجاب، الحفظ، المشاركة)

### ملفات JavaScript

1. **api.js**:
   - واجهة برمجة التطبيقات للتفاعل مع Google Sheets
   - وظائف للتعامل مع المستخدمين والاقتباسات
   - معالجة الطلبات والاستجابات

2. **auth.js**:
   - إدارة المصادقة وتسجيل الدخول
   - إنشاء حسابات جديدة
   - التحقق من حالة تسجيل الدخول
   - تسجيل الخروج

3. **ui.js**:
   - وظائف واجهة المستخدم العامة
   - إدارة النوافذ المنبثقة
   - عرض الإشعارات
   - تنسيق التواريخ والأوقات

4. **quotes.js**:
   - إدارة الاقتباسات
   - عرض الاقتباسات
   - إضافة وتعديل وحذف الاقتباسات
   - التفاعل مع الاقتباسات (الإعجاب، الحفظ، المشاركة)

5. **profile.js**:
   - إدارة الملف الشخصي
   - عرض وتعديل بيانات المستخدم
   - إدارة التبويبات في صفحة الملف الشخصي

## الواجهة الخلفية (Google Apps Script)

### هيكل البيانات

1. **جدول Users**:
   - ID: معرف المستخدم
   - Email: البريد الإلكتروني
   - Password: كلمة المرور
   - FirstName: الاسم الأول
   - LastName: الاسم الأخير
   - LinkedinUrl: رابط LinkedIn
   - JoinDate: تاريخ الانضمام
   - Bio: نبذة شخصية
   - Avatar: رابط الصورة الشخصية

2. **جدول Quotes**:
   - ID: معرف الاقتباس
   - UserID: معرف المستخدم
   - Text: نص الاقتباس
   - Author: المؤلف
   - Source: المصدر
   - Tags: الوسوم
   - CreatedAt: تاريخ الإنشاء
   - LikesCount: عدد الإعجابات
   - SavesCount: عدد المحفوظات
   - IsOriginal: ما إذا كان الاقتباس أصليًا

3. **جدول Likes**:
   - ID: معرف الإعجاب
   - UserID: معرف المستخدم
   - QuoteID: معرف الاقتباس
   - CreatedAt: تاريخ الإعجاب

4. **جدول Saves**:
   - ID: معرف الحفظ
   - UserID: معرف المستخدم
   - QuoteID: معرف الاقتباس
   - CreatedAt: تاريخ الحفظ

### وظائف Google Apps Script

1. **وظائف المستخدمين**:
   - `checkEmailExists`: التحقق من وجود بريد إلكتروني
   - `login`: تسجيل الدخول
   - `signup`: إنشاء حساب جديد
   - `getUser`: الحصول على بيانات المستخدم
   - `updateUser`: تحديث بيانات المستخدم

2. **وظائف الاقتباسات**:
   - `getQuotes`: الحصول على الاقتباسات
   - `getQuote`: الحصول على اقتباس محدد
   - `addQuote`: إضافة اقتباس جديد
   - `updateQuote`: تحديث اقتباس
   - `deleteQuote`: حذف اقتباس
   - `getUserQuotes`: الحصول على اقتباسات المستخدم
   - `getLikedQuotes`: الحصول على الاقتباسات التي أعجب بها المستخدم
   - `getSavedQuotes`: الحصول على الاقتباسات المحفوظة للمستخدم

3. **وظائف التفاعل**:
   - `likeQuote`: الإعجاب باقتباس
   - `unlikeQuote`: إلغاء الإعجاب باقتباس
   - `saveQuote`: حفظ اقتباس
   - `unsaveQuote`: إلغاء حفظ اقتباس

4. **وظائف الإعداد**:
   - `initializeSheets`: تهيئة أوراق البيانات
   - `createSampleData`: إنشاء بيانات تجريبية

## كيفية الإعداد والاستخدام

### إعداد Google Sheets وGoogle Apps Script

1. **إنشاء جدول بيانات Google Sheets**:
   - افتح [Google Sheets](https://sheets.google.com/)
   - أنشئ جدول بيانات جديد
   - لاحظ معرف جدول البيانات من الرابط

2. **إعداد Google Apps Script**:
   - من جدول البيانات، انقر على "أدوات" > "محرر البرامج النصية"
   - انسخ محتوى ملف `google_apps_script.js` إلى محرر البرامج النصية
   - تأكد من تحديث متغير `SHEET_ID` بمعرف جدول البيانات الخاص بك
   - احفظ المشروع باسم "Min Jadeed API"
   - قم بتشغيل دالة `initializeSheets()` لإنشاء أوراق البيانات المطلوبة
   - انشر المشروع كتطبيق ويب:
     - انقر على "نشر" > "نشر كتطبيق ويب"
     - اختر "الإصدار الجديد"
     - اختر "أي شخص، حتى مجهول" في إعدادات الوصول
     - انقر على "نشر"
     - انسخ عنوان URL للتطبيق المنشور

3. **تحديث ملف API.js**:
   - افتح ملف `js/api.js`
   - حدّث قيمة `API_URL` بعنوان URL للتطبيق المنشور

### استضافة الواجهة الأمامية

1. **استضافة محلية**:
   - قم بفك ضغط ملفات المشروع على جهازك
   - افتح ملف `index.html` في متصفح الويب

2. **استضافة على خادم ويب**:
   - قم بتحميل ملفات المشروع إلى خادم ويب
   - تأكد من الحفاظ على هيكل المجلدات

## استخدام المنصة

### إنشاء حساب وتسجيل الدخول

1. **إنشاء حساب جديد**:
   - انتقل إلى صفحة التسجيل
   - أدخل البريد الإلكتروني وكلمة المرور والاسم الأول والأخير ورابط LinkedIn
   - انقر على "إنشاء حساب"

2. **تسجيل الدخول**:
   - انتقل إلى صفحة تسجيل الدخول
   - أدخل البريد الإلكتروني وكلمة المرور
   - انقر على "تسجيل الدخول"

### إدارة الملف الشخصي

1. **عرض الملف الشخصي**:
   - انقر على اسمك في شريط التنقل
   - اعرض بياناتك الشخصية واقتباساتك والاقتباسات التي أعجبت بها وحفظتها

2. **تعديل الملف الشخصي**:
   - انقر على زر "تعديل الملف الشخصي"
   - قم بتحديث بياناتك الشخصية
   - انقر على "حفظ التغييرات"

### إدارة الاقتباسات

1. **إضافة اقتباس جديد**:
   - انقر على زر "إضافة اقتباس" في شريط التنقل
   - أدخل نص الاقتباس والمؤلف والمصدر والوسوم
   - انقر على "نشر الاقتباس"

2. **تعديل اقتباس**:
   - انتقل إلى صفحة الملف الشخصي
   - انقر على تبويب "اقتباساتي"
   - انقر على زر التعديل لأحد الاقتباسات
   - قم بتحديث بيانات الاقتباس
   - انقر على "حفظ التغييرات"

3. **حذف اقتباس**:
   - انتقل إلى صفحة الملف الشخصي
   - انقر على تبويب "اقتباساتي"
   - انقر على زر الحذف لأحد الاقتباسات
   - تأكد من الحذف في نافذة التأكيد

### التفاعل مع الاقتباسات

1. **الإعجاب باقتباس**:
   - انقر على زر الإعجاب (أيقونة القلب) لأحد الاقتباسات

2. **حفظ اقتباس**:
   - انقر على زر الحفظ (أيقونة الإشارة المرجعية) لأحد الاقتباسات

3. **مشاركة اقتباس**:
   - انقر على زر المشاركة (أيقونة المشاركة) لأحد الاقتباسات
   - انسخ الرابط أو شارك الاقتباس عبر وسائل التواصل الاجتماعي

## استكشاف الأخطاء وإصلاحها

### مشاكل الاتصال بـ Google Sheets

1. **خطأ "Failed to fetch"**:
   - تأكد من تحديث قيمة `API_URL` في ملف `js/api.js`
   - تأكد من نشر Google Apps Script كتطبيق ويب
   - تأكد من اختيار "أي شخص، حتى مجهول" في إعدادات الوصول

2. **خطأ "البريد الإلكتروني مستخدم بالفعل"**:
   - هذا يعني أن البريد الإلكتروني مسجل بالفعل في النظام
   - استخدم بريد إلكتروني آخر أو قم بتسجيل الدخول باستخدام البريد الإلكتروني الحالي

3. **خطأ "البريد الإلكتروني أو كلمة المرور غير صحيحة"**:
   - تأكد من إدخال البريد الإلكتروني وكلمة المرور بشكل صحيح
   - إذا نسيت كلمة المرور، قم بإنشاء حساب جديد (في النسخة الحالية لا توجد وظيفة استعادة كلمة المرور)

### مشاكل عرض البيانات

1. **عدم ظهور الاقتباسات**:
   - تأكد من وجود اقتباسات في جدول البيانات
   - تأكد من تسجيل الدخول إذا كنت تحاول عرض اقتباساتك الخاصة
   - تحقق من وحدة تحكم المتصفح (F12 > Console) للبحث عن أي أخطاء

2. **عدم ظهور بيانات المستخدم**:
   - تأكد من تسجيل الدخول
   - تحقق من وحدة تحكم المتصفح (F12 > Console) للبحث عن أي أخطاء

## الخطوات التالية والتحسينات المستقبلية

1. **تحسين الأمان**:
   - إضافة تشفير لكلمات المرور
   - إضافة وظيفة استعادة كلمة المرور
   - إضافة المصادقة الثنائية

2. **تحسين تجربة المستخدم**:
   - إضافة وظيفة البحث عن الاقتباسات
   - إضافة وظيفة التعليق على الاقتباسات
   - إضافة وظيفة متابعة المستخدمين

3. **تحسين الأداء**:
   - تحسين سرعة تحميل الصفحات
   - تحسين التفاعل مع Google Sheets
   - إضافة تخزين مؤقت للبيانات

4. **توسيع المنصة**:
   - إضافة دعم للغات متعددة
   - إضافة وظيفة تحميل الصور الشخصية
   - إضافة وظيفة إنشاء مجموعات للاقتباسات

## الخاتمة

منصة Min Jadeed هي منصة اجتماعية بسيطة وفعالة لمشاركة الاقتباسات والأفكار الملهمة. تم تطويرها باستخدام تقنيات الويب الأساسية (HTML و CSS و JavaScript) مع استخدام Google Sheets كقاعدة بيانات، مما يجعلها سهلة الإعداد والاستخدام.

تم تحسين المنصة بشكل كبير في النسخة الجديدة، مع التركيز على تحسين تجربة المستخدم والأداء والأمان. كما تم إضافة العديد من الميزات الجديدة التي تجعل المنصة أكثر فائدة وجاذبية للمستخدمين.

نأمل أن تستمتع باستخدام منصة Min Jadeed وأن تجدها مفيدة في مشاركة الاقتباسات والأفكار الملهمة مع الآخرين.
